import { useState } from 'react';
import PropTypes from 'prop-types';

const ServiceIcon = ({ type }) => {
  const icons = {
    web: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" fill="currentColor">
        <path d="M86.49 87.906H3.51c-1.935 0-3.51-1.574-3.51-3.51V5.604c0-1.935 1.575-3.51 3.51-3.51h82.98c1.936 0 3.51 1.575 3.51 3.51v78.793c0 1.935-1.574 3.51-3.51 3.51zM3.51 4.094C2.677 4.094 2 4.771 2 5.604v78.793c0 0.832 0.677 1.51 1.51 1.51h82.98c0.832 0 1.51-0.678 1.51-1.51V5.604c0-0.833-0.678-1.51-1.51-1.51H3.51z"/>
        <path d="M89 18.686H1c-0.552 0-1-0.448-1-1V5.604c0-1.935 1.575-3.51 3.51-3.51h82.98c1.936 0 3.51 1.575 3.51 3.51v12.082c0 0.552-0.447 1-1 1zM2 16.686h86V5.604c0-0.833-0.678-1.51-1.51-1.51H3.51C2.677 4.094 2 4.771 2 5.604v11.082z"/>
        <path d="M78.861 43.269H11.139c-2.288 0-4.148-1.861-4.148-4.148v-9.163c0-2.288 1.861-4.148 4.148-4.148h67.723c2.287 0 4.148 1.861 4.148 4.148v9.163c0 2.287-1.862 4.148-4.149 4.148zM11.139 27.809c-1.185 0-2.148 0.964-2.148 2.148v9.163c0 1.185 0.964 2.148 2.148 2.148h67.723c1.185 0 2.148-0.963 2.148-2.148v-9.163c0-1.185-0.964-2.148-2.148-2.148H11.139z"/>
        <path d="M43.365 80.269H11.139c-2.288 0-4.148-1.861-4.148-4.148V53.958c0-2.287 1.861-4.148 4.148-4.148h32.226c2.287 0 4.148 1.861 4.148 4.148V76.12c0 2.287-1.861 4.149-4.148 4.149zM11.139 51.81c-1.185 0-2.148 0.964-2.148 2.148V76.12c0 1.185 0.964 2.148 2.148 2.148h32.226c1.185 0 2.148-0.964 2.148-2.148V53.958c0-1.185-0.963-2.148-2.148-2.148H11.139z"/>
        <path d="M78.861 64.269H57.777c-2.287 0-4.148-1.861-4.148-4.148v-6.162c0-2.287 1.861-4.148 4.148-4.148h21.084c2.287 0 4.148 1.861 4.148 4.148v6.162c0 2.286-1.861 4.148-4.148 4.148zM57.777 51.81c-1.185 0-2.148 0.964-2.148 2.148v6.162c0 1.185 0.964 2.148 2.148 2.148h21.084c1.185 0 2.148-0.964 2.148-2.148v-6.162c0-1.185-0.964-2.148-2.148-2.148H57.777z"/>
        <path d="M82.01 80.269H54.629c-0.553 0-1-0.447-1-1s0.447-1 1-1H82.01c0.553 0 1 0.447 1 1s-0.447 1-1 1z"/>
        <path d="M82.01 72.269H54.629c-0.553 0-1-0.447-1-1s0.447-1 1-1H82.01c0.553 0 1 0.447 1 1s-0.447 1-1 1z"/>
        <circle cx="9" cy="10.5" r="2"/>
        <circle cx="16" cy="10.5" r="2"/>
        <circle cx="23" cy="10.5" r="2"/>
      </svg>
    ),
    frontend: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" fill="currentColor">
        <path d="M45 51.868c-0.552 0-1-0.447-1-1V1c0-0.552 0.448-1 1-1s1 0.448 1 1v49.868c0 0.553-0.448 1-1 1z"/>
        <path d="M45 26.709c-12.172 0-23.679-3.858-31.572-10.584c-0.42-0.358-0.471-0.99-0.113-1.41c0.358-0.422 0.989-0.471 1.41-0.113C22.262 21.025 33.296 24.709 45 24.709c11.704 0 22.738-3.684 30.274-10.106c0.421-0.357 1.052-0.309 1.409 0.113c0.358 0.42 0.309 1.051-0.112 1.41C68.68 22.852 57.172 26.709 45 26.709z"/>
        <path d="M85.474 42.474H4.526c-0.552 0-1-0.448-1-1s0.448-1 1-1h80.947c0.553 0 1 0.448 1 1s-0.447 1-0.999 1z"/>
        <path d="M84.919 90H5.081C3.185 90 1.644 88.458 1.644 86.562V58.854c0-1.896 1.542-3.438 3.437-3.438h79.838c1.896 0 3.438 1.542 3.438 3.438v27.708C88.356 88.458 86.814 90 84.919 90zM5.081 57.417c-0.792 0-1.437 0.645-1.437 1.438v27.708c0 0.792 0.645 1.437 1.437 1.437h79.838c0.793 0 1.438-0.645 1.438-1.438V58.854c0-0.793-0.645-1.438-1.438-1.438H5.081z"/>
        <path d="M5.633 51.868c-0.453 0-0.863-0.31-0.972-0.769c-0.753-3.168-1.135-6.406-1.135-9.626C3.526 18.605 22.131 0 45 0c22.868 0 41.474 18.605 41.474 41.474c0 3.219-0.382 6.458-1.135 9.626c-0.128 0.537-0.665 0.872-1.204 0.741c-0.537-0.127-0.869-0.667-0.741-1.204c0.717-3.017 1.08-6.1 1.08-9.163C84.474 19.708 66.766 2 45 2S5.526 19.708 5.526 41.474c0 3.064 0.364 6.147 1.081 9.163c0.128 0.537-0.204 1.076-0.741 1.204C5.788 51.859 5.71 51.868 5.633 51.868z"/>
        <path d="M65.409 51.868c-0.041 0-0.082-0.002-0.123-0.008c-0.549-0.067-0.938-0.566-0.87-1.114c0.376-3.049 0.566-6.168 0.566-9.272C64.982 19.708 56.019 2 45 2S25.017 19.708 25.017 41.474c0 3.1 0.19 6.22 0.567 9.272c0.067 0.548-0.322 1.047-0.871 1.114c-0.542 0.079-1.047-0.321-1.115-0.87c-0.386-3.134-0.582-6.335-0.582-9.517C23.017 18.605 32.878 0 45 0c12.121 0 21.982 18.605 21.982 41.474c0 3.186-0.195 6.388-0.582 9.517C66.338 51.497 65.907 51.868 65.409 51.868z"/>
        <text x="13" y="77" fontSize="12" fontWeight="bold">HTML</text>
        <text x="52" y="77" fontSize="12" fontWeight="bold">CSS</text>
      </svg>
    ),
    api: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" fill="currentColor">
        <path d="M45.011 20.11c1.07 0 2.154-0.272 3.145-0.844c3.014-1.741 4.051-5.609 2.311-8.622c-0.843-1.46-2.204-2.505-3.833-2.941c-1.629-0.436-3.329-0.212-4.79 0.631c-3.014 1.74-4.05 5.608-2.31 8.622C40.702 18.978 42.828 20.11 45.011 20.11zM42.844 10.065c0.665-0.384 1.402-0.58 2.149-0.58c0.375 0 0.751 0.049 1.123 0.149c1.112 0.298 2.042 1.012 2.618 2.009c1.188 2.059 0.48 4.701-1.578 5.89c-2.058 1.189-4.702 0.481-5.891-1.578S40.785 11.254 42.844 10.065z"/>
        <path d="M33.607 18.541c0.42 0 0.807 0.245 1.011 0.64c0.081 0.156 0.166 0.311 0.255 0.467c0.089 0.153 0.18 0.304 0.275 0.452c0.239 0.374 0.258 0.832 0.048 1.195c-0.417 0.722-0.528 1.563-0.312 2.368c0.216 0.805 0.732 1.478 1.454 1.895l2.809 1.622c1.491 0.86 3.402 0.348 4.264-1.143c0.209-0.363 0.585-0.579 1.023-0.557c0.377 0.02 0.756 0.019 1.136 0.001c0.415-0.028 0.81 0.192 1.02 0.556c0.417 0.722 1.09 1.238 1.895 1.454c0.269 0.072 0.541 0.108 0.812 0.108c0.54 0 1.074-0.142 1.555-0.419l2.809-1.622c0.722-0.416 1.238-1.09 1.454-1.895c0.216-0.805 0.105-1.646-0.312-2.369c-0.21-0.364-0.199-0.809 0.028-1.162c0.205-0.318 0.394-0.646 0.567-0.982c0.192-0.375 0.574-0.609 0.994-0.609c1.721 0 3.121-1.4 3.121-3.121v-3.243c0-1.72-1.4-3.12-3.121-3.12c-0.42 0-0.808-0.245-1.013-0.642c-0.08-0.155-0.164-0.31-0.253-0.463c-0.089-0.154-0.182-0.306-0.276-0.454c-0.239-0.374-0.258-0.832-0.048-1.195c0.417-0.722 0.527-1.563 0.312-2.368c-0.216-0.805-0.732-1.478-1.454-1.895L50.852 0.42c-0.721-0.417-1.562-0.528-2.367-0.312C47.68 0.323 47.007 0.84 46.59 1.562c-0.209 0.363-0.599 0.577-1.025 0.556c-0.378-0.017-0.757-0.019-1.134 0C44.008 2.14 43.62 1.924 43.41 1.561c-0.417-0.722-1.09-1.238-1.895-1.454c-0.804-0.216-1.646-0.104-2.368 0.312l-2.809 1.622c-1.49 0.86-2.002 2.772-1.142 4.263c0.209 0.363 0.199 0.809-0.029 1.162c-0.206 0.32-0.395 0.647-0.567 0.983c-0.193 0.375-0.574 0.608-0.995 0.608c-1.72 0-3.12 1.4-3.12 3.121v3.243C30.486 17.141 31.886 18.541 33.607 18.541z"/>
        <path d="M30.832 49.509c0.552 0 1-0.447 1-1v-6.445h6.311v6.445c0 0.553 0.448 1 1 1c0.552 0 1-0.447 1-1v-11.68c0-2.322-1.889-4.21-4.21-4.21h-1.891c-2.322 0-4.21 1.889-4.21 4.21v11.68C29.832 49.061 30.28 49.509 30.832 49.509zM34.043 34.619h1.891c1.219 0 2.21 0.992 2.21 2.21v3.234h-6.311v-3.234C31.832 35.61 32.824 34.619 34.043 34.619z"/>
        <path d="M50.544 32.619h-5.125c-0.552 0-1 0.448-1 1v7.445v7.445c0 0.553 0.448 1 1 1c0.552 0 0.999-0.447 0.999-1v-6.445h4.126c2.121 0 3.847-1.726 3.847-3.847v-1.751C54.391 34.344 52.665 32.619 50.544 32.619zM52.391 38.217c0 1.018-0.828 1.847-1.847 1.847h-4.126v-5.445h4.126c1.019 0 1.847 0.829 1.847 1.847V38.217z"/>
        <path d="M58.168 33.619v14.89c0 0.553 0.447 1 1 1s1-0.447 1-1v-14.89c0-0.552-0.447-1-1-1S58.168 33.067 58.168 33.619z"/>
        <path d="M81.423 12.971H64.732c-0.553 0-1 0.448-1 1s0.447 1 1 1h16.691c2.367 0 4.293 1.926 4.293 4.293v37.019H4.284V19.264c0-2.367 1.926-4.293 4.293-4.293h16.785c0.552 0 1-0.448 1-1s-0.448-1-1-1H8.577c-3.47 0-6.293 2.823-6.293 6.293v38.017v8.068c0 3.47 2.823 6.293 6.293 6.293h23.615l-1.947 9.387h-0.16c-4.395 0-7.971 3.575-7.971 7.971c0 0.553 0.448 1 1 1h43.769c0.553 0 1-0.447 1-1c0-4.395-3.575-7.971-7.97-7.971h-0.16l-1.947-9.387h23.615c3.47 0 6.293-2.823 6.293-6.293v-8.066V19.264C87.716 15.794 84.893 12.971 81.423 12.971zM65.801 87.999H24.199c0.477-2.818 2.935-4.971 5.887-4.971h0.974H58.94h0.975C62.866 83.029 65.324 85.181 65.801 87.999zM57.712 81.029H32.288l1.947-9.387h21.531L57.712 81.029zM85.716 65.349c0 2.367-1.926 4.293-4.293 4.293H56.579H33.421H8.577c-2.367 0-4.293-1.926-4.293-4.293v-7.066h81.432V65.349z"/>
        <path d="M43.606 64.656h2.787c0.553 0 1-0.447 1-1s-0.447-1-1-1h-2.787c-0.552 0-1 0.447-1 1S43.054 64.656 43.606 64.656z"/>
      </svg>
    ),
    backend: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" fill="currentColor">
        <path d="M36.341 72.955c-9.08 0-10.11-7.877-11.019-14.827C24.336 50.582 23.317 46 17.5 46c-0.552 0-1-0.448-1-1s0.448-1 1-1c5.817 0 6.836-4.582 7.822-12.128c0.909-6.95 1.938-14.827 11.019-14.827c0.552 0 1 0.448 1 1s-0.448 1-1 1c-7.325 0-8.117 6.064-9.035 13.086C26.645 37.188 25.915 42.77 21.861 45c4.054 2.23 4.784 7.812 5.445 12.869c0.918 7.021 1.71 13.086 9.035 13.086c0.552 0 1 0.447 1 1S36.893 72.955 36.341 72.955z"/>
        <path d="M53.659 72.955c-0.553 0-1-0.447-1-1s0.447-1 1-1c7.324 0 8.117-6.064 9.035-13.086C63.355 52.813 64.085 47.23 68.14 45c-4.055-2.23-4.784-7.812-5.445-12.869c-0.918-7.021-1.711-13.086-9.035-13.086c-0.553 0-1-0.448-1-1s0.447-1 1-1c9.08 0 10.109 7.877 11.019 14.827C65.664 39.418 66.683 44 72.5 44c0.553 0 1 0.448 1 1s-0.447 1-1 1c-5.817 0-6.836 4.582-7.822 12.128C63.769 65.078 62.739 72.955 53.659 72.955z"/>
        <path d="M77.413 90H12.587C5.646 90 0 84.354 0 77.413V12.587C0 5.646 5.646 0 12.587 0h64.826C84.354 0 90 5.646 90 12.587v64.826C90 84.354 84.354 90 77.413 90zM12.587 2C6.749 2 2 6.749 2 12.587v64.826C2 83.251 6.749 88 12.587 88h64.826C83.251 88 88 83.251 88 77.413V12.587C88 6.749 83.251 2 77.413 2H12.587z"/>
      </svg>
    )
  };

  return icons[type] || icons.web;
};

const ServicesSection = ({ title, subtitle, services = [], images = {} }) => {
  const [activeIndex, setActiveIndex] = useState(0);

  const toggleAccordion = (index) => {
    setActiveIndex(activeIndex === index ? -1 : index);
  };

  return (
    <section id="services" className="services-section">
      <div className="services-header" data-aos="fade-up">
        <h2 className="section-title">{title}</h2>
        <p className="section-subtitle">{subtitle}</p>
      </div>

      <div className="services-container">
        {/* Left Side - Image */}
        <div className="services-images" data-aos="fade-right">
          <img src={images.main} alt="Services" className="services-main-image" />
        </div>

        {/* Right Side - Accordion */}
        <div className="services-accordion" data-aos="fade-left">
          {services.map((service, index) => (
            <div
              key={index}
              className={`accordion-item ${activeIndex === index ? 'active' : ''}`}
            >
              <div className="accordion-header" onClick={() => toggleAccordion(index)}>
                <div className="accordion-icon">
                  <ServiceIcon type={service.icon} />
                </div>
                <h3 className="accordion-title">{service.title}</h3>
                <button className="accordion-toggle">
                  <span className={`arrow ${activeIndex === index ? 'up' : 'down'}`}></span>
                </button>
              </div>
              <div className="accordion-content">
                <p>{service.description}</p>
                {/* <a href={service.link} className="read-more">Read more</a> */}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

ServicesSection.propTypes = {
  title: PropTypes.string.isRequired,
  subtitle: PropTypes.string,
  services: PropTypes.arrayOf(
    PropTypes.shape({
      icon: PropTypes.string.isRequired,
      title: PropTypes.string.isRequired,
      description: PropTypes.string.isRequired,
      link: PropTypes.string
    })
  ),
  images: PropTypes.shape({
    main: PropTypes.string,
    secondary: PropTypes.string
  })
};

export default ServicesSection;
